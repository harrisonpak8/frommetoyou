{% extends "base.html" %}

{% block content %}

<div style="margin: 1%">
  {% for mesg in get_flashed_messages() %}
        <h3 class="positiveNotif">{{mesg}}</h3>
        {% endfor %}
  
    <a style="font-size: 32px">User: <b>{{user_name}}</b></a><br>
    Account #: <b>{{sid}}</b><br>
    Email: <b>{{email}}</b><br>
    Mailing Address: <b>{{address}}</b><br><br>

    
    <b style = "font-size:24px;">Reviews Received From Users</b>
    <div class="wrapper" style ="display: flex">    
        <div class = "wrapper" style="width:23%; display: inline-block; float:right; margin-right: 10px;">
          {% if averageReceived == 1 %}
          <div style="font-size:m ">&#127773; &#127770; &#127770; &#127770; &#127770; Average {{averageReceived}} Sun out of 5</div>
          {% endif %}
          {% if averageReceived == 2 %}
          <div style="font-size:m ">&#127773; &#127773; &#127770; &#127770; &#127770;  Average {{averageReceived}} Suns out of 5</div>
          {% endif %}
          {% if averageReceived == 3 %}
          <div style="font-size:m ">&#127773; &#127773; &#127773; &#127770; &#127770;  Average {{averageReceived}} Suns out of 5</div>
          {% endif %}
          {% if averageReceived == 4 %}
          <div style="font-size:m ">&#127773; &#127773; &#127773; &#127773; &#127770; Average {{averageReceived}} Suns out of 5</div>
          {% endif %}
          {% if averageReceived == 5 %}
          <div style="font-size:m ">&#127773; &#127773; &#127773; &#127773; &#127773; Average {{averageReceived}} Suns out of 5</div>
          {% endif %}
          {% if averageReceived < 1 or averageReceived >5 %}
          <div style="font-size:m ">&#127770; &#127770; &#127770; &#127770; &#127770; Unavailable</div>
          {% endif %}
          
      
          <div>{{numberOfReceived}} Total Ratings</div>
          <br>
          <div>5 Sun <progress max = {{numberOfReceived}} value={{numberOfReceivedFive}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfReceivedFive}} Rating(s)</div>
          <div>4 Sun <progress max = {{numberOfReceived}} value={{numberOfReceivedFour}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfReceivedFour}} Rating(s)</div>
          <div>3 Sun <progress max = {{numberOfReceived}} value={{numberOfReceivedThree}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfReceivedThree}} Rating(s)</div>
          <div>2 Sun <progress max = {{numberOfReceived}} value={{numberOfReceivedTwo}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfReceivedTwo}} Rating(s)</div>
          <div>1 Sun <progress max = {{numberOfReceived}} value={{numberOfReceivedOne}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfReceivedOne}} Rating(s)</div>
          
        <hr>
        <b style = "font-size:large;">Review this seller</b>
        <h4 style = "font-size: medium;">Share your thoughts with other customers</h4>
        {% if current_user.is_authenticated %}
          <a href="{{ url_for('sellerreview.sellerreview') }}?sid={{sid}}&&name={{fullname}}" type="button" ><button class = "btn btn-black">Create Review</button></a>
        {% else %}
          <a href="{{ url_for('users.login') }}" type="button" class="btn btn-light"><button class = "btn btn-black">Create Review</button></a>
        {% endif %}
    
        <hr>
    
        <b style = "font-size:large;">Message this seller</b>
        <h4 style = "font-size: medium;">Ask the Seller questions at any time</h4>
        {% if current_user.is_authenticated %}
          <form action="" method="post" class='child' novalidate>
            {{ sForm.hidden_tag() }}
            {{ sForm.submitstart(class_="btn btn-black") }}
          </form>
        {% else %}
          <a href="{{ url_for('users.login') }}" type="button" class="btn btn-light"><button class = "btn btn-black">Create Review</button></a>
        {% endif %}
    
        {{cid}}
    
    
        </div>
        <div style="width: 76%">
          <table class='table table-hover table-bordered container'>
              <thead class="thead-dark">
                <tr>
                  <th scope="col">User</th>
                  <th scope="col">Rating</th>
                  <th scope="col">Review</th>
                </tr>
              </thead>
              <tbody>
                {% for review in receivedReviews %}
                  <tr>
                    <th scope="row" style="color:black"><a href="{{ url_for('users.public_view') }}?sid={{review.uid}}">{{review.name}}</a></th>
                    <td>{{review.rating}}</td>
                    <td>{{review.review}}</td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>    
      </div><br>

<b style = "font-size:24px;">Product Reviews Written</b>
<div class="wrapper" style ="display: flex">    
  <div class = "wrapper" style="width:23%; display: inline-block; float:right; margin-right: 10px;">
    {% if averagePReview == 1 %}
    <div style="font-size:m ">&#127773; &#127770; &#127770; &#127770; &#127770; Average {{averagePReview}} Sun out of 5</div>
    {% endif %}
    {% if averagePReview == 2 %}
    <div style="font-size:m ">&#127773; &#127773; &#127770; &#127770; &#127770;  Average {{averagePReview}} Suns out of 5</div>
    {% endif %}
    {% if averagePReview == 3 %}
    <div style="font-size:m ">&#127773; &#127773; &#127773; &#127770; &#127770;  Average {{averagePReview}} Suns out of 5</div>
    {% endif %}
    {% if averagePReview == 4 %}
    <div style="font-size:m ">&#127773; &#127773; &#127773; &#127773; &#127770; Average {{averagePReview}} Suns out of 5</div>
    {% endif %}
    {% if averagePReview == 5 %}
    <div style="font-size:m ">&#127773; &#127773; &#127773; &#127773; &#127773; Average {{averagePReview}} Suns out of 5</div>
    {% endif %}
    {% if averagePReview < 1 or averagePReview >5 %}
    <div style="font-size:m ">&#127770; &#127770; &#127770; &#127770; &#127770; Unavailable</div>
    {% endif %}

    <div>{{numberOfPReview}} Total Ratings</div>
    <br>
    <div>5 Sun <progress max = {{numberOfPReview}} value={{numberOfPReviewFive}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfPReviewFive}} Rating(s)</div>
    <div>4 Sun <progress max = {{numberOfPReview}} value={{numberOfPReviewFour}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfPReviewFour}} Rating(s)</div>
    <div>3 Sun <progress max = {{numberOfPReview}} value={{numberOfPReviewThree}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfPReviewThree}} Rating(s)</div>
    <div>2 Sun <progress max = {{numberOfPReview}} value={{numberOfPReviewTwo}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfPReviewTwo}} Rating(s)</div>
    <div>1 Sun <progress max = {{numberOfPReview}} value={{numberOfPReviewOne}} style="accent-color: rgb(247, 171, 9);"></progress> {{numberOfPReviewOne}} Rating(s)</div>
    
  </div>
  <div style="width: 76%">
    <table class='table table-hover table-bordered container'>
        <thead class="thead-dark">
          <tr>
            <th scope="col">Product</th>
            <th scope="col">Rating</th>
            <th scope="col">Review</th>
          </tr>
        </thead>
        <tbody>
          {% for review in recentPReviews%}
            <tr>
              <th scope="row" style="color:black"><a href="{{ url_for('users.updatereview') }}?uid={{review.uid}}&&pid={{review.pid}}&name={{review.name}}&link={{review.link}}">{{review.name}}</a></th>
              <td>{{review.rating}}</td>
              <td>{{review.review}}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>    
</div><br><br>

{% endblock %}